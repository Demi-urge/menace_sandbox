repos:
  - repo: local
    hooks:
      - id: check-governed-embeddings
        name: Check for ungoverned embedding calls
        entry: python scripts/check_governed_embeddings.py
        language: system
        pass_filenames: false
        files: '\.py$'
      - id: forbid-sqlite3-connect
        name: Prevent direct sqlite3.connect usage
        entry: python scripts/check_sqlite_connections.py
        language: system
        pass_filenames: true
        files: '\.py$'
      - id: check-static-paths
        name: Prevent static .py path references
        entry: python tools/check_static_paths.py
        language: system
        pass_filenames: true
        files: '^((analysis|analytics|annoy|chunk_summary_cache|clipped|compliance|docs|menace|micro_models|migrations|neurosales|plugins|sandbox_runner|scripts|security|self_improvement|tests|tools|unit_tests|vector_service)/.*|[^/]+\.py)$'
      - id: check-dynamic-paths
        name: Ensure dynamic paths use resolve_path
        entry: python tools/check_dynamic_paths.py
        language: system
        pass_filenames: true
        files: '\.py$'
  - repo: https://github.com/pycqa/flake8
    rev: 6.1.0
    hooks:
      - id: flake8
